<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Fire & Gas Stop MDU – Swipe Flow</title>
  <style>
   :root{
  --pad: 18px;
  --radius: 22px;

  --bg: #07121f;
  --card: #ffffff;
  --text: #0b1220;
  --muted: #334155;

  --o2blue: #005EB8;
  --o2blueDark: #004A93;

  --virginRed: #E4002B;
  --virginRedDark: #B80022;

  --stroke: #d6dde8;
  --shadow: rgba(0,0,0,.28);
}

*{ box-sizing: border-box; }

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:
    radial-gradient(1200px 600px at 15% 0%, rgba(0,94,184,.22), transparent 60%),
    radial-gradient(900px 500px at 90% 20%, rgba(228,0,43,.18), transparent 55%),
    var(--bg);
  color:#e9eef5;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 22px;
}

.wrap{
  width: min(920px, 100%);
  padding: var(--pad);
}

.card{
  width: 100%;
  max-width: 820px;              /* BIGGER */
  margin: 0 auto;
  background: var(--card);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  padding: 26px;                  /* BIGGER */
  box-shadow: 0 18px 55px var(--shadow);
  user-select:none;
  touch-action: pan-y;
}

.top{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap: 16px;
  flex-wrap: wrap;
}

.brand{
  display:flex;
  gap: 14px;
  align-items:center;
  min-width: 260px;
}

.logo{
  width: 54px;
  height: 54px;
  border-radius: 14px;
  border: 2px dashed rgba(0,94,184,.5);
  background: #fff;
  object-fit: contain;
}

.logo[src=""]{ display:none; }

.brandName{
  color: var(--text);
  font-weight: 900;
  letter-spacing: .2px;
  font-size: 18px;
  line-height: 1.1;
}

.brandSub{
  color: var(--muted);
  font-size: 14px;
  margin-top: 4px;
}

.rightTop{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items:center;
}

.badge{
  font-size: 14px;
  color: var(--text);
  padding: 10px 12px;
  border: 1px solid var(--stroke);
  border-radius: 999px;
  background: #f5f7fb;
  font-weight: 800;
}

.pill{
  display:inline-block;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: #f5f7fb;
  font-size: 14px;
  color: var(--text);
  font-

/* ===== FORCE READABILITY + BRAND COLOURS (override) ===== */

/* Force all text inside the card to be dark and readable */
.card, .card * {
  color: #0b1220 !important;
}

/* Keep the page background light text (outside the card) */
body {
  color: #e9eef5 !important;
}

/* Make sure title/description are clearly readable */
#title {
  font-size: 30px !important;
  font-weight: 950 !important;
  line-height: 1.15 !important;
  margin-top: 18px !important;
  color: #0b1220 !important;
}

#desc {
  font-size: 20px !important;
  line-height: 1.45 !important;
  color: #0b1220 !important;
}

/* Make hint visible but still muted */
#hint {
  color: #334155 !important;
  font-size: 16px !important;
  font-weight: 600 !important;
}

/* Force button sizing */
#actions button {
  font-size: 20px !important;
  padding: 18px 18px !important;
  border-radius: 18px !important;
  font-weight: 900 !important;
  border: 0 !important;
}

/* Force VM/O2 colours */
#actions button.yes,
button.yes {
  background: #005EB8 !important;  /* O2 blue */
  color: #ffffff !important;
}

#actions button.no,
button.no {
  background: #E4002B !important;  /* Virgin red */
  color: #ffffff !important;
}

#actions button.primary,
button.primary {
  background: #005EB8 !important;
  color: #ffffff !important;
}

/* Make the pills/badge look clean on white */
.badge, .pill {
  background: #f5f7fb !important;
  border: 1px solid #d6dde8 !important;
}

.pill.note {
  background: rgba(0,94,184,.08) !important;
  border-color: rgba(0,94,184,.35) !important;
}

/* Make Reset link O2 blue */
.link, #reset {
  color: #005EB8 !important;
  font-weight: 900 !important;
}

  </style>
</head>
<body>
<div class="wrap">
  <div class="card" id="card" aria-live="polite">
<div class="top">
  <div class="brand">
    <!-- Logo placeholder -->
    <img class="logo" src="" alt="Virgin Media O2" />
    <div>
      <div class="brandName">Virgin Media O2</div>
      <div class="brandSub">Fire &amp; Gas Stop MDU – Swipe Flow</div>
    </div>
  </div>

  <div class="rightTop">
    <div class="badge" id="badge">Step 1</div>
    <div class="pill note" id="pill">Swipe right = Yes • Swipe left = No</div>
  </div>
</div>

    <div class="title" id="title"></div>
    <div class="desc" id="desc"></div>

    <div class="actions" id="actions"></div>

    <div class="hint" id="hint">Tip: buttons work too</div>
    <div class="footer">
      <a class="link" href="#" id="reset">Reset</a>
    </div>
  </div>
</div>

<script>
  // EXACTLY your completed flow (no added branches)
  // Swipe Right = YES, Swipe Left = NO

  const STEPS = {
    fireBarrier: {
      type: "question",
      title: "Fire barrier?",
      desc: "Assume YES unless proven otherwise.",
      yes: "predrill",
      no: "predrill"
    },
    predrill: {
      type: "info",
      title: "Pre-drill requirement",
      desc: "Consult Landlord/Managing Agent/Building Owner and obtain approval where required. Use handover pack / building method if provided. If uncertain: stop and escalate to FM/AFM.",
      next: "grommetSuitable"
    },
    grommetSuitable: {
      type: "question",
      title: "Hole suitable for firestop grommet?",
      desc: "14mm SKU 10014507 / 25mm SKU 10014072",
      yes: "accessBothSides",
      no: "sealantMethod"
    },
    accessBothSides: {
      type: "question",
      title: "Access to both sides?",
      desc: "",
      yes: "installGrommets",
      no: "sealantMethod"
    },
    installGrommets: {
      type: "result",
      title: "Install firestop split grommet BOTH sides",
      desc: "No sealant required if correctly installed.",
      next: "label"
    },
    sealantMethod: {
      type: "info",
      title: "Use certified fire-rated sealant/mastic method",
      desc: "Mixed method acceptable when needed e.g: Inside = grommet (internal seal) / Outside = Firebreak 33 (external seal).",
      next: "externalInternal"
    },
    externalInternal: {
      type: "question",
      title: "External-to-internal entry?",
      desc: "",
      yes: "firebreak33",
      no: "firebreak66"
    },
    firebreak33: {
      type: "result",
      title: "Firebreak 33",
      desc: "External-to-internal SKU 64600610",
      next: "label"
    },
    firebreak66: {
      type: "result",
      title: "Firebreak 66",
      desc: "Internal-to-internal SKU 10013050",
      next: "label"
    },
    label: {
      type: "result",
      title: "Label firestopping",
      desc: "Typically internal non-living side. SKU 10014092",
      next: "finish"
    },
    finish: {
      type: "result",
      title: "Finish",
      desc: "Barrier reinstated; label applied. Form completed.",
    },

  };

  let path = [];
  let current = "fireBarrier";

  const elBadge = document.getElementById("badge");
  const elTitle = document.getElementById("title");
  const elDesc = document.getElementById("desc");
  const elActions = document.getElementById("actions");
  const elReset = document.getElementById("reset");
  const card = document.getElementById("card");

  function render() {
    const step = STEPS[current];
    elBadge.textContent = `Step ${path.length + 1}`;
    elTitle.textContent = step.title;
    elDesc.textContent = step.desc || "";
    elActions.innerHTML = "";

    if (step.type === "question") {
      const btnNo = document.createElement("button");
      btnNo.className = "no";
      btnNo.textContent = "No";
      btnNo.onclick = () => go("no");
      const btnYes = document.createElement("button");
      btnYes.className = "yes";
      btnYes.textContent = "Yes";
      btnYes.onclick = () => go("yes");
      elActions.append(btnNo, btnYes);
    } else {
      const btnNext = document.createElement("button");
      btnNext.className = "primary";
      btnNext.textContent = step.next ? "Next" : "Done";
      btnNext.onclick = () => step.next ? go("next") : null;
      const btnBack = document.createElement("button");
      btnBack.textContent = "Back";
      btnBack.onclick = back;
      elActions.append(btnBack, btnNext);
    }
  }

  function go(answer) {
    const step = STEPS[current];
    path.push(current);

    if (step.type === "question") {
      current = (answer === "yes") ? step.yes : step.no;
    } else {
      current = step.next;
    }
    if (!current) current = path[path.length - 1]; // safety
    render();
  }

  function back() {
    if (path.length === 0) return;
    current = path.pop();
    render();
  }

  elReset.addEventListener("click", (e) => {
    e.preventDefault();
    path = [];
    current = "fireBarrier";
    render();
  });


  // Swipe handling
  let x0 = null, y0 = null;
  card.addEventListener("touchstart", (e) => {
    const t = e.changedTouches[0];
    x0 = t.clientX; y0 = t.clientY;
  }, {passive:true});

  card.addEventListener("touchend", (e) => {
    if (x0 === null) return;
    const t = e.changedTouches[0];
    const dx = t.clientX - x0;
    const dy = t.clientY - y0;
    x0 = y0 = null;

    // ignore vertical scroll
    if (Math.abs(dy) > Math.abs(dx)) return;
    if (Math.abs(dx) < 60) return;

    const step = STEPS[current];
    if (step.type !== "question") return;

    if (dx > 0) go("yes");
    else go("no");
  }, {passive:true});

  render();
</script>
</body>
</html>
<!-- Pages rebuild trigger -->
